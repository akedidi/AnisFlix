/* Styles pour masquer la barre "Done" sur iOS et configurer le clavier de recherche */

/* Configuration générale du clavier de recherche */
input[type="search"] {
  -webkit-appearance: none;
  appearance: none;
  /* Forcer le type de clavier "search" */
  inputmode: search;
  enterkeyhint: search;
}

/* Masquer la barre "Done" et les contrôles de recherche sur iOS */
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
  -webkit-appearance: none;
  appearance: none;
}

/* Configuration spécifique pour les apps natives Capacitor */
.native-app input[type="search"] {
  /* Forcer le type de clavier "search" avec plus d'agressivité */
  inputmode: search !important;
  enterkeyhint: search !important;
  
  /* Forcer les attributs via CSS */
  -webkit-input-mode: search !important;
  -webkit-enter-key-hint: search !important;
  
  /* Masquer complètement la barre "Done" */
  -webkit-appearance: none;
  appearance: none;
  
  /* Désactiver l'autocomplétion et la correction */
  autocomplete: off;
  autocorrect: off;
  autocapitalize: off;
  spellcheck: false;
  
  /* Masquer tous les contrôles de recherche WebKit */
  -webkit-search-decoration: none;
  -webkit-search-cancel-button: none;
  -webkit-search-results-button: none;
  -webkit-search-results-decoration: none;
  
  /* Forcer le clavier de recherche sur iOS */
  -webkit-text-security: none;
  -webkit-user-select: text;
}

/* Forcer les attributs sur tous les inputs de recherche natifs */
.native-app input[type="search"] {
  inputmode: search !important;
  enterkeyhint: search !important;
}

/* Styles spécifiques pour iOS natif */
@supports (-webkit-touch-callout: none) {
  .native-app input[type="search"] {
    /* Masquer la barre "Done" sur iOS */
    -webkit-appearance: none;
    appearance: none;
    
    /* Forcer le clavier de recherche avec plus d'agressivité */
    inputmode: search !important;
    enterkeyhint: search !important;
    
    /* Forcer les attributs WebKit */
    -webkit-input-mode: search !important;
    -webkit-enter-key-hint: search !important;
    
    /* Désactiver complètement la barre d'outils iOS */
    -webkit-user-select: text;
    -webkit-touch-callout: none;
    
    /* Forcer le type de clavier sur iOS */
    -webkit-text-security: none;
  }
}

/* Styles pour les inputs de recherche sur mobile natif */
@media (max-width: 768px) {
  .native-app input[type="search"] {
    /* Assurer que le clavier reste en mode recherche */
    inputmode: search;
    enterkeyhint: search;
    
    /* Masquer la barre "Done" sur mobile */
    -webkit-appearance: none;
    appearance: none;
  }
}
